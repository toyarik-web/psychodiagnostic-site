<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест бургер-меню</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="site-header" id="top">
        <div class="container nav">
            <a href="#hero" class="logo">PsychoDiagnostic</a>

            <button class="nav-toggle" aria-label="Відкрити меню" aria-expanded="false" id="burger-button">
                <span class="nav-toggle-bar"></span>
                <span class="nav-toggle-bar"></span>
                <span class="nav-toggle-bar"></span>
            </button>

            <nav class="nav-menu" aria-label="Головне меню" id="nav-menu">
                <ul>
                    <li><a href="#about">Про мене</a></li>
                    <li><a href="#services">Послуги</a></li>
                    <li><a href="#benefits">Переваги</a></li>
                    <li><a href="#testimonials">Відгуки</a></li>
                    <li><a href="#faq">FAQ</a></li>
                    <li><a href="#contact">Контакти</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main style="padding: 20px;">
        <h1>Тест бургер-меню</h1>
        <p>Зменшіть вікно браузера до ширини менше 720px, щоб побачити бургер-кнопку.</p>
        <p>Відкрийте консоль браузера (F12) для перегляду логів.</p>
    </main>

    <script>
        console.log('DOM loaded, initializing burger menu...');

        // Mobile navigation toggle
        const navToggle = document.getElementById('burger-button');
        const navMenu = document.getElementById('nav-menu');

        console.log('navToggle found by ID:', !!navToggle);
        console.log('navMenu found by ID:', !!navMenu);

        if (navToggle && navMenu) {
            console.log('Burger menu elements found, initializing...');

            navToggle.addEventListener('click', (ev) => {
                console.log('Burger button clicked!');
                ev.preventDefault();
                const expanded = navToggle.getAttribute('aria-expanded') === 'true';
                const isOpen = !expanded;

                console.log('Menu was open:', expanded, 'Will be open:', isOpen);

                navToggle.setAttribute('aria-expanded', String(isOpen));
                document.body.classList.toggle('nav-open', isOpen);

                if (isOpen) {
                    navMenu.style.transform = 'translateY(0)';
                    navMenu.style.willChange = 'transform';
                    console.log('Menu opened');
                } else {
                    navMenu.style.transform = '';
                    navMenu.style.willChange = 'auto';
                    console.log('Menu closed');
                }
            });

            // Close menu when clicking on links
            navMenu.addEventListener('click', (e) => {
                const target = e.target;
                if (target instanceof Element && target.tagName.toLowerCase() === 'a') {
                    document.body.classList.remove('nav-open');
                    navToggle.setAttribute('aria-expanded', 'false');
                    navMenu.style.transform = '';
                    navMenu.style.willChange = 'auto';
                    console.log('Menu closed by link click');
                }
            });

            // Close menu when clicking outside
            document.addEventListener('click', (e) => {
                if (document.body.classList.contains('nav-open') &&
                    !navMenu.contains(e.target) &&
                    !navToggle.contains(e.target)) {
                    document.body.classList.remove('nav-open');
                    navToggle.setAttribute('aria-expanded', 'false');
                    navMenu.style.transform = '';
                    navMenu.style.willChange = 'auto';
                    console.log('Menu closed by outside click');
                }
            });

            // Close menu on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && document.body.classList.contains('nav-open')) {
                    document.body.classList.remove('nav-open');
                    navToggle.setAttribute('aria-expanded', 'false');
                    navMenu.style.transform = '';
                    navMenu.style.willChange = 'auto';
                    console.log('Menu closed by Escape key');
                }
            });
        } else {
            console.error('Burger menu elements not found!');
            if (!navToggle) console.error('- navToggle (#burger-button) not found');
            if (!navMenu) console.error('- navMenu (#nav-menu) not found');
        }
    </script>
</body>
</html>
